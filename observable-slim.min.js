var ObservableSlim=function(){var i=[],d=[],x=[],P=null,f=function(e,s,r,t){var h=r||null,u=t||"",g=[],v=function(e,r,t){var n=null;return n=e instanceof Array?""!==u?u:r:""!==u?u+"."+r:r,!0===t&&(n="/"+n.replace(/\./g,"/")),n},b=function(e){function r(){for(var r=[],e=0;e<h.observers.length;e++)try{h.observers[e](g)}catch(e){r.push(e)}if(g=[],1<r.length)throw r[0]}!0!==h.paused&&(!0===s?setTimeout(function(){e===g.length&&r()},10):r())},y=new Proxy(e,{get:function(n,e){if("__getTarget"===e)return n;if("__isProxy"===e)return!0;if("__getParent"===e)return function(e){if(void 0===e)e=1;var r,t=v(n,"__getParent").split(".");return t.splice(-(e+1),e+1),r=h.parentProxy,t.join(".").split(".").reduce(function(e,r){return e?e[r]:void 0},r||self)};var r=n[e];if(!(r instanceof Object&&null!==r&&n.hasOwnProperty(e)))return r;!0===r.__isProxy&&(r=r.__getTarget);for(var t=-1,o=h.targets,a=0,l=o.length;a<l;a++)if(r===o[a]){t=a;break}return-1<t?h.proxies[t]:f(r,s,h,""!==u?u+"."+e:e)},deleteProperty:function(e,r){var t=!0;P===y&&(t=!1,P=null);var n=Object.assign({},e);if(g.push({type:"delete",target:e,property:r,newValue:null,previousValue:n[r],currentPath:v(e,r),jsonPointer:v(e,r,!0),proxy:y}),!0===t){for(var o=0,a=d.length;o<a&&e!==d[o];o++);for(var l=x[o],s=l.length;s--;)l[s].proxy!==y&&(P=l[s].proxy,delete l[s].proxy[r]);h.changesPaused||delete e[r]}return b(g.length),!0},set:function(n,e,r,t){var o=!0;P===y&&(o=!1,P=null);var a=n[e];if(a!==r||!1===o){var l=!0,s=typeof a,u="update";if("undefined"===s&&(u="add"),g.push({type:u,target:n,property:e,newValue:r,previousValue:t[e],currentPath:v(n,e),jsonPointer:v(n,e,!0),proxy:y}),!0===o){for(var i=0,f=d.length;i<f&&n!==d[i];i++);if(l=i<f){var p=x[i],c=0;for(f=p.length;c<f;c++)p[c].proxy!==y&&(P=p[c].proxy,p[c].proxy[e]=r);setTimeout(function(){if("object"===s&&null!==a){for(var e=Object.keys(n),r=0,t=e.length;r<t;r++)if(n[e[r]]===a)return;!function e(r){for(var t=Object.keys(r),n=0,o=t.length;n<o;n++){var a=r[t[n]];a instanceof Object&&null!==a&&e(a)}var l=-1;for(n=0,o=d.length;n<o;n++)if(r===d[n]){l=n;break}if(-1<l){for(var s=x[l],u=s.length;u--;)if(h===s[u].observable){s.splice(u,1);break}0==s.length&&(x.splice(l,1),d.splice(l,1))}}(a)}},1e4)}h.changesPaused||(n[e]=r)}l&&b(g.length)}return!0}});null===h?(h={parentTarget:e,domDelay:s,parentProxy:y,observers:[],targets:[e],proxies:[y],paused:!1,path:u},i.push(h)):(h.targets.push(e),h.proxies.push(y));for(var n={target:e,proxy:y,observable:h},o=-1,a=0,l=d.length;a<l;a++)if(e===d[a]){o=a;break}return-1<o?x[o].push(n):(d.push(e),x.push([n]),o=d.length-1),y};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var n=f(e,r);return"function"==typeof t&&this.observe(n,t),function e(r){for(var t=r.__getTarget,n=Object.keys(t),o=0,a=n.length;o<a;o++){var l=n[o];t[l]instanceof Object&&null!==t[l]&&e(r[l])}}(n),n},observe:function(e,r){for(var t=i.length;t--;)if(i[t].parentProxy===e){i[t].observers.push(r);break}},pause:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=i[r].paused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=!(i[r].paused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=i[r].changesPaused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=!(i[r].changesPaused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var r=null,t=!1,n=i.length;n--;)if(i[n].parentProxy===e){r=i[n],t=!0;break}for(var o=x.length;o--;)for(var a=x[o].length;a--;)x[o][a].observable===r&&(x[o].splice(a,1),0===x[o].length&&(x.splice(o,1),d.splice(o,1)));!0===t&&i.splice(n,1)}}}();try{module.exports=ObservableSlim}catch(e){}